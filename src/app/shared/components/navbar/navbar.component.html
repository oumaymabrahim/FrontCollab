<nav class="navbar" [ngClass]="getRoleClass()">
  <div class="container">
    <div class="navbar-content">
      <!-- Logo et titre -->
      <div class="navbar-brand">
        <h1 class="brand-title">CollabManager</h1>
        <span class="user-role" *ngIf="currentUser">{{ currentUser.role | titlecase }}</span>
      </div>

      <!-- Menu desktop -->
      <div class="navbar-menu desktop-menu" *ngIf="currentUser">
        <a
          *ngFor="let link of getNavigationLinks()"
          class="nav-link"
          (click)="navigateTo(link.route)"
          [class.active]="router.url.includes(link.route)"
        >
          <i class="icon" [ngClass]="'icon-' + link.icon"></i>
          {{ link.label }}
        </a>
      </div>

      <!-- Profil utilisateur -->
      <div class="navbar-user" *ngIf="currentUser">
        <div class="user-info">
          <span class="user-name">{{ currentUser.nom }}</span>
          <span class="user-email">{{ currentUser.email }}</span>
        </div>
        <button class="btn btn-secondary" (click)="logout()">
          <i class="icon icon-logout"></i>
          Déconnexion
        </button>
      </div>

      <!-- Bouton menu mobile -->
      <button
        class="mobile-menu-btn"
        (click)="toggleMenu()"
        *ngIf="currentUser"
      >
        <i class="icon" [ngClass]="isMenuOpen ? 'icon-close' : 'icon-menu'"></i>
      </button>
    </div>

    <!-- Menu mobile -->
    <div class="mobile-menu" [ngClass]="{ 'open': isMenuOpen }" *ngIf="currentUser">
      <a
        *ngFor="let link of getNavigationLinks()"
        class="mobile-nav-link"
        (click)="navigateTo(link.route)"
      >
        <i class="icon" [ngClass]="'icon-' + link.icon"></i>
        {{ link.label }}
      </a>
      <div class="mobile-user-section">
        <div class="user-info">
          <span class="user-name">{{ currentUser.nom }}</span>
          <span class="user-email">{{ currentUser.email }}</span>
        </div>
        <button class="btn btn-secondary" (click)="logout()">
          Déconnexion
        </button>
      </div>
    </div>
  </div>
</nav>



